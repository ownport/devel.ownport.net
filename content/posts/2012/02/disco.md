Title: Архитектура Disco
Author: d.rey
Date: 2012-02-23 22:05:00
Slug: disco
Tags: cluster,erlang,mapreduce,python,architecture,disco

Краткое описание Disco - MapReduce системы на базе Erlang и Python было дано в одном из [предыдущих постов](http://devel.ownport.net/2012/02/disco-mapreduce.html).  Несколько слов об архитектуре.

![](http://3.bp.blogspot.com/-p02aoofhc9w/T0abPjh0KtI/AAAAAAAAAe8/XhpUANcSzLQ/s400/disco-architecture.png)

Disco основана на архитектура главный-ведомый (master-slave).

- Клиентские приложения передают системе задачи для выполнения через мастер-ноду (master)
- Мастер-нода (master) получает задачи, добавляет их в очередь и запускает их на нодах кластера (slave), как только те становятся свободными.
- Ведомые ноды кластера (slave) запускаются мастер-нодой, они активируют и осуществляют мониторинг всех процессов внутри ноды самостоятельно, без участия мастер-ноды
- Рабочие процессы (worker) выполняют переданные мастер-нодой задачи. Местоположения результатов обработки данных передаются на мастер-ноду.
- Disco старается обрабатывать данные локально - назначая задачи по обработке данных на те ноды, на которых эти данные  расположены. HTTP сервер запущенный на каждой ноде позволяет получить доступ к данным для рабочих процессов, запущенных на других нодах. Это полезно в тех случаях, когда рабочий процесс, по неким причинам, не может быть запущен на той же ноде, где расположены данные.
- Пользователь может ограничивать количество параллельно запущенных рабочих процессов равным числу процессоров, дисков ноды или определить произвольное число параллельных процессов.

Если необходима высокая доступность системы, существует возможность организации несколько мастер-нод. Это позволяет устранить проблему единой точки сбоя - выхода из строя мастер-ноды.

